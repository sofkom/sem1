{% extends 'header.html' %}

{% block title %}
Profile
{% endblock %}

{% block content %}
<div class="container">
    <div class="info row">
        <div class="col-md-4" style="text-align: center;">
            {% if user['photo'] %}
                <a title="Изменить" class="change_inf" href="{{ url_for('edit_profile') }}"><img href=""></a>
            {% else %}
            <a title="Изменить" class="change_inf" href="{{ url_for('edit_profile') }}"><svg xmlns="http://www.w3.org/2000/svg" width="350" height="350" fill="currentColor" class="bi bi-person-circle" viewBox="0 0 16 16">
              <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
              <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
            </svg></a>
            {% endif %}
        </div>
        <div class="col-md-8">
            <ul>
                <a href="{{ url_for('edit_profile') }}" class="change_inf" title="Изменить"><li style="list-style-type: none;"><b>Имя: </b> {{ user['name'] }}</li></a>
                <a href="{{ url_for('edit_profile') }}" class="change_inf" title="Изменить"><li style="list-style-type: none;"><b>О себе: </b>
                    {% if user['about'] %}
                    {{ user['about'] }}
                    {% else %}
                    ...
                    {% endif %}
                </li></a>
            </ul>
        </div>
    </div>
    <div class="butt row justify-content-center gy-3" style="margin-top: 20px">
            <div class="col-md-3"><button type="button" class="sub" data-bs-toggle="modal" data-bs-target="#subscrip">
                Подписки</button></div>
            <div class="modal fade" id="subscrip" tabindex="-1" aria-labelledby="subscripLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="subscripLabel">Подписки</h5>
                  </div>
                  <div class="modal-body">
                    ...
                  </div>

                </div>
              </div>
            </div>
            <div class="col-md-3"><button type="button" class="sub" data-bs-toggle="modal" data-bs-target="#subscrib">
                Подписчики</button></div>
                <div class="modal fade" id="subscrib" tabindex="-1" aria-labelledby="subscribLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="subscribLabel">Подписчики</h5>
                      </div>
                      <div class="modal-body">
                        ...
                      </div>

                    </div>
                  </div>
            </div>
    </div>

    <hr>
    <div class="row justify-content-center">
        <div class="col-4">
            <button type="button" class="sub" data-bs-toggle="modal" data-bs-target="#add">
              Добавить запись
            </button>
            <div class="modal fade" id="add" tabindex="-1" aria-labelledby="addLabel" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="addLabel">Новая запись</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Закрыть"></button>
                  </div>
                  <div class="modal-body">
                    <form action="" method="post" enctype='multipart/form-data'>
                    {{ form.hidden_tag() }}
                        {% for field, errors in form.errors.items() %}
                        <p style="font-size: 30px; color: crimson">
                            {{ ', '.join(errors) }}
                        </p>
                    {% endfor %}
                    <p style="font-size: 20px">{{ form.text.label() }} </p>
                    <p style="font-size: 28px">{{ form.text() }}</p>
                    <p style="font-size: 20px">{{ form.photos.label() }} </p>
                    <p style="font-size: 28px">{{ form.photos() }}</p>
                    <br>
                     <div class="modal-footer">
                    <p>{{ form.submit(class='sub') }}</p>
                  </div>
                </form>
                  <br><br>
                  </div>

                </div>
              </div>
</div>
        </div>
    </div>
    <div class="container">
        {% for e in entry %}
        <div class="body row justify-content-center gy-3">
            <div class="col-9">
                {% if e['photo'] %}
            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="https://cdnn21.img.ria.ru/images/07e5/06/18/1738448523_0:89:864:575_1920x0_80_0_0_7541a4a6d36edb667d2de032b8aefc66.jpg"
                       class="d-block" style="width: 100%; height: 600px; object-fit: cover;">
                </div>
                <div class="carousel-item">
                  <img src="https://www.ntv.ru/home/news/2021/20210715/8-kot_io.jpg"
                       class="d-block" style="width: 100%; height: 600px; object-fit: cover;">
                </div>
                <div class="carousel-item">
                  <img src="https://basket-01.wb.ru/vol69/part6951/6951648/images/big/2.jpg"
                       class="d-block" style="width: 100%; height: 600px; object-fit: cover;">
                </div>
              </div>
              <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"  data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Предыдущий</span>
              </button>
              <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"  data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Следующий</span>
              </button>
            </div>
                {% endif %}

            {% if e["text"] %}
            <div style="width: 100%; border: 2px solid grey; padding: 10px; margin-top: 20px">
                <p>{{ e["text"] }}</p>
            </div>
            {% endif %}
            <div style="margin-bottom: 40px; margin-top: 10px">
                <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-heart" viewBox="0 0 16 16">
                  <path d="m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"/>
                </svg>
{#                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-heart-fill" viewBox="0 0 16 16">#}
{#                  <path fill-rule="evenodd" d="M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"/>#}
{#                </svg>#}
                <svg style="margin-left: 20px" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
                  <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                </svg>
                <svg style="margin-left: 20px" xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-send" viewBox="0 0 16 16">
                  <path d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576 6.636 10.07Zm6.787-8.201L1.591 6.602l4.339 2.76 7.494-7.493Z"/>
                </svg>
            </div>
        </div>
        </div>
        {% endfor %}

    </div>
</div>
{% endblock %}